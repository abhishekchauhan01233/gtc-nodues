{% extends 'main/base.html' %}
{% block title %} REGISTER {% endblock %}

{% load static %}
{% load crispy_forms_tags %}

{% block content %}
    <div class='header_student'>
        <div class='row'>
            <div class='logo'>
                <img src = "/media/images/ganga.png", height=160, width=180>
            </div>
            <div class='gtc'>
                <h1 id='row1_s'>Ganga Technical Campus</h1>  
            </div>
        </div>
    </div>

    <div>
        <form method = 'POST' class='form-group'>
            {% csrf_token %}
            {{form|crispy}}
            <input type= 'submit' name='adminsave' value='Admin' id='admin'>
        </form>
    </div>
    <form method = 'POST' class='form-group'>
        {% csrf_token %}
        {{form|crispy}}
        <div class="main_register animated bounceInLeft">
            <h1 id='log'><b> Register </b></h1>
            <div class="row">
                <div class="col3">
                    <select id="course" name="course" class='select_login'  onchange="populate(this.id,'branch')" required>
                        <option value=''>Course</option>
                        <option value='BCA'>BCA</option>
                        <option value='BBA'>BBA</option>
                        <option value='MBA'>MBA</option>
                        <option value='BTech'>Engineering</option>
                        <option value='MTech'>MTech</option
                        <option value='Diploma'>Diploma in Engineering</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col3">
                    <select id="branch" name="branch" class='select_login' required>
                        <option value=''>--Select Course First--</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col3">
                    <select id="sem" name="semester" class='select_login' required>
                        <option value=''>Semester</option>
                        <option value='1st'>1st</option>
                        <option value='2nd'>2nd</option>
                        <option value='3rd'>3rd</option>
                        <option value='4th'>4th</option>
                        <option value='5th'>5th</option>
                        <option value='6th'>6th</option>
                        <option value='7th'>7th</option>
                        <option value='8th'>8th</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='text' name='rollno' placeholder='Roll No.*' required>
                </div>
            </div>

            <div class="rowt">
                <div class="field1">
                    <input type='text' name='firstname' placeholder='First Name*' required>
                </div>

                <div class="field2">
                    <input type='text' name='lastname' placeholder='Last Name'>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='text' name='fname' placeholder='Father Name*' required>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='password' name='password1' placeholder='Password*' required>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='password' name='password2' placeholder='Re-enter Password*' required>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='text' name='phone' placeholder='Phone Number*' pattern="\d{10}" title=' 10digits are required ' required>
                </div>
            </div>

            <div class="row">
                <div class="col2">
                    <input type='email' name='email' placeholder='Email*' required>
                </div>
            </div>

            {% if messages %}
                {% for message in messages %}
                    <div>
                        <h3 id='message'>{{ message }}</h3>
                    </div>
                {% endfor %}
            {% endif %}

            <div class='row'>
                <input type='submit' name='save' value='Register' id='reg_btn'>
            </div>

            <div class='row'>
                <h3 id='a'>Already have an account? <a href="/login">Log in</a>.
            </div>
        </div>
    </form>

    <script>
        function populate(s1, s2) {
            var s1 = document.getElementById(s1);
            var s2 = document.getElementById(s2);
            s2.innerHTML = "";
            if (s1.value == "BTech") {
                var optionArray = ["|", "CSE|Computer Science Engineering", "CE|Civil Engineering", "ME|Mechanical Engineering",
                    "EE|Electrical Engineering", "ECE|Electronics & Communication Engineering"
                ];
            } else if (s1.value == "Diploma") {
                var optionArray = ["|", "CE|Civil Engineering", "ME|Mechanical Engineering",
                    "EE|Electrical Engineering", "ECE|Electronics & Communication Engineering", "Auto|Automobile"
                ];
            } else if (s1.value == "BBA") {
                var optionArray = ["|", "BBA|BBA"];
            } else if (s1.value == "MBA") {
                var optionArray = ["|", "MBA|MBA"];
            } else if (s1.value == "BCA") {
                var optionArray = ["|", "BCA|BCA"];
            } else if (s1.value == "MTech") {
                var optionArray = ["|", "CSE|Computer Science Engineering", "CE|Civil Engineering", "ME|Mechanical Engineering",
                    "EE|Electrical Engineering", "ECE|Electronics & Communication Engineering", "EPS|EPS", "M&A|M&A"
                    ];
            } 
            
            for (var option in optionArray) {
                var pair = optionArray[option].split("|");
                var newOption = document.createElement("option");
                newOption.value = pair[0];
                newOption.innerHTML = pair[1];
                s2.options.add(newOption);
            }
        }        
    </script>
    <p align="center" id='about_data'><b>COPYRIGHT &copy; 2014-2020 GTC </b></p>
<!-- !Disclaimer - you must not use this website's template in as it is form - please feel free 
to contact me @ chiragchauhan12323@gmail.com for the source code and implementation in your use case -
After all I too did take some help from the community -->
{% endblock %}